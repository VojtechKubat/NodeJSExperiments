{"version":3,"sources":["../../server/playground/mongodb-update.js"],"names":["connect","error","client","console","log","db","collection","findOneAndUpdate","text","$set","completed","$inc","age","returnOriginal","then","result","catch","err","close"],"mappings":";;AAEA;;AAEA;AACA;;AAEA,qBAAYA,OAAZ,CAAoB,2BAApB,EAAiD,UAACC,KAAD,EAAQC,MAAR,EAAiB;AAC9D,QAAID,KAAJ,EAAW;AACPE,gBAAQC,GAAR,CAAY,iDAAZ,EAA+DH,KAA/D;AACA;AACH;;AAEDE,YAAQC,GAAR,CAAY,yCAAZ;;AAEA,QAAIC,KAAKH,OAAOG,EAAP,CAAU,SAAV,CAAT;;AAEA;AACAA,OAAGC,UAAH,CAAc,OAAd,EACCC,gBADD,CACkB;AACdC,cAAM;AADQ,KADlB,EAGE;AACEC,cAAM;AACFD,kBAAM,uBADJ;AAEFE,uBAAW;AAFT,SADR;AAKEC,cAAM;AACFC,iBAAK;AADH;AALR,KAHF,EAWE;AACEC,wBAAgB;AADlB,KAXF,EAcCC,IAdD,CAcM,UAACC,MAAD,EAAY;AACdZ,gBAAQC,GAAR,CAAY,oCAAZ,EAAkDW,MAAlD;AACH,KAhBD,EAiBCC,KAjBD,CAiBO,UAACC,GAAD,EAAS;AACZd,gBAAQC,GAAR,CAAY,eAAZ,EAA6Ba,GAA7B;AACH,KAnBD;;AAqBAf,WAAOgB,KAAP;AACH,CAjCD","file":"mongodb-update.js","sourcesContent":["/* @flow */\n\nimport { MongoClient, ObjectID } from 'mongodb';\n\n// var obj = new ObjectID();\n// console.log('My object ID',obj);\n\nMongoClient.connect('mongodb://localhost:27017', (error, client)=>{\n    if (error) {\n        console.log('> ERRROR > Unable to connect ot MongoDB server:', error);\n        return;\n    }\n    \n    console.log('> SUCCESS > connected to MongoDB server');\n\n    var db = client.db('TodoApp');\n\n    // delete many\n    db.collection('todos')\n    .findOneAndUpdate({\n        text: 'to_update'\n    },{\n        $set: {\n            text: 'UPDATED CORRECTLY !!!',\n            completed: true\n        },\n        $inc: {\n            age: 6\n        }\n    },{\n        returnOriginal: false\n    })\n    .then((result) => {\n        console.log('UPDATE SUCCESS\\n - new document:\\n', result);\n    })\n    .catch((err) => {\n        console.log('Update error:', err);\n    });\n\n    client.close();\n});"]}